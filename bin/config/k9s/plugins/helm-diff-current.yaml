# HELM Configuration
# In helm-history view: <Shift-D> Diff with Current Revision
shortCut: Shift-D
confirm: false
description: Diff with Current Revision
scopes:
  - history
command: bash
background: false
args:
  - -c
  - >-
    RELEASE_NAME=$(echo $NAME | cut -d':' -f1);
    LATEST_REVISION=$(helm history -n $NAMESPACE --kube-context $CONTEXT $RELEASE_NAME | grep deployed | cut -d$'\t' -f1 | tr -d ' \t');
    helm diff revision $RELEASE_NAME $LATEST_REVISION $COL-REVISION --kube-context $CONTEXT --namespace $NAMESPACE --color | less -RK
